{"version":3,"sources":["components/Logo/Logo.module.css","components/Forecast/Forecast.module.css","components/Conditions/Conditions.module.css","components/Conditions/Conditions.js","components/Forecast/Forecast.js","components/Logo/Logo.js","App.js","reportWebVitals.js","index.js"],"names":["module","exports","conditions","props","className","Wrapper","error","Small","loading","Loader","responseObj","cod","name","Math","round","main","temp","weather","description","Forecast","useState","city","setCity","unit","setUnit","setResponseObj","setError","setLoading","onSubmit","e","preventDefault","length","uriEncodedCity","encodeURIComponent","console","log","process","fetch","method","headers","then","response","json","Error","catch","err","message","type","placeholder","maxLength","classes","textInput","value","onChange","target","Radio","checked","Button","Conditions","Logo","sky","circle","cloud1","cloud2","cloud3","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.559949c8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"circle\":\"Logo_circle__2ACV3\",\"sky\":\"Logo_sky__3siX9\",\"cloud1\":\"Logo_cloud1__28Qj1\",\"cloud2\":\"Logo_cloud2__2lzsh\",\"cloud3\":\"Logo_cloud3__1HnkX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"textInput\":\"Forecast_textInput__39zH8\",\"Radio\":\"Forecast_Radio__1Ejlt\",\"Button\":\"Forecast_Button__3Y_IL\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Wrapper\":\"Conditions_Wrapper__1WUTs\",\"Small\":\"Conditions_Small__1VrqO\",\"Loader\":\"Conditions_Loader__PcSFJ\",\"spin\":\"Conditions_spin__b05Or\"};","// Functional component that receives the responseObj from the Forecast component via props\n\nimport React from \"react\";\nimport { Wrapper, Small, Loader } from \"./Conditions.module.css\";\n\nconst conditions = (props) => {\n  return (\n    <div className={Wrapper}>\n      {/* Ternary expressions that turn on or off depending on the props that are passed */}\n\n      {props.error && (\n        <small className={Small}>Please enter a valid city</small>\n      )}\n\n      {props.loading && <div className={Loader} />}\n\n      {/* Ternary JavaScript operator displays the data only when the HTTP response code is 200 (meaning successful request) */}\n\n      {props.responseObj.cod === 200 ? (\n        <div>\n          <p>\n            <strong>{props.responseObj.name}</strong>\n          </p>\n          <p>\n            It is currently {Math.round(props.responseObj.main.temp)} degrees\n            out with {props.responseObj.weather[0].description}\n          </p>\n        </div>\n      ) : null}\n    </div>\n  );\n};\n\nexport default conditions;\n","import React, { useState } from \"react\";\nimport Conditions from \"../Conditions/Conditions\";\nimport classes from \"./Forecast.module.css\";\n\nconst Forecast = () => {\n  /* Put the city and unit values in state so they can be added to the URL query string (line 31) on submit */\n\n  const [city, setCity] = useState(\"\");\n  const [unit, setUnit] = useState(\"imperial\");\n\n  /* Create the resonseObj variable and the function to change it using useState, with starting value set to an empty object surrounded by curly braces */\n\n  const [responseObj, setResponseObj] = useState({});\n\n  /* Put the error and loading variables in state with default values set to false so that if no characters are input, no request is made */\n\n  const [error, setError] = useState(false);\n  const [loading, setLoading] = useState(false);\n\n  /* Prevent page refreshing with loss of state and information on button click (with 'e' for event). The getForecast function will instead be called from the onSubmit listener in the form element (line 69) */\n\n  function getForecast(e) {\n    e.preventDefault();\n\n    /* Check if no characters are entered. If so trigger the error message (line 10 of the Conditions component) and do not make an empty request */\n\n    if (city.length === 0) {\n      return setError(true);\n    }\n\n    // Clear state in preparation for new data\n\n    setError(false);\n    setResponseObj({});\n\n    setLoading(true);\n\n    // Encode the city input URI before putting it into the URL string //\n\n    const uriEncodedCity = encodeURIComponent(city);\n\n    /* Retrieves weather data from OpenWeatherAPI. Backticks around the URL string allow for variables to be dynamically added (inside curly braces, with a leading $ sign) */\n\n    console.log(process.env);\n\n    fetch(\n      `https://community-open-weather-map.p.rapidapi.com/weather?units=${unit}&q=${uriEncodedCity}`,\n      {\n        /* Env variable stored in the .env file to prevent hackers discovering the API key */\n\n        method: \"GET\",\n        headers: {\n          \"x-rapidapi-key\": process.env.REACT_APP_API_KEY,\n          \"x-rapidapi-host\": \"community-open-weather-map.p.rapidapi.com\",\n        },\n      }\n    )\n      /* Modify the getForecast function to convert the response into a JSON object and assign the response value to the responseObj variable in state */\n\n      .then((response) => response.json())\n\n      /* Throws the eror in the catch block if HTTP response is not 200 */\n\n      .then((response) => {\n        if (response.cod !== 200) {\n          throw new Error();\n        }\n\n        setResponseObj(response);\n        setLoading(false);\n      })\n      .catch((err) => {\n        setError(true);\n        setLoading(false);\n        console.log(err.message);\n      });\n  }\n\n  /* Location for displaying data, with input form. Each input is assigned a corresponding value from state, updated using the onChange event listener, with each change stored and passed with the 'e' event argument */\n\n  return (\n    <div>\n      <h2>Find current weather conditions</h2>\n      <form onSubmit={getForecast}>\n        <input\n          type=\"text\"\n          placeholder=\"Enter City\"\n          maxLength=\"50\"\n          className={classes.textInput}\n          value={city}\n          onChange={(e) => setCity(e.target.value)}\n        />\n        <label className={classes.Radio}>\n          <input\n            type=\"radio\"\n            name=\"units\"\n            checked={unit === \"imperial\"}\n            value=\"imperial\"\n            onChange={(e) => setUnit(e.target.value)}\n          />\n          Fahrenheit\n        </label>\n        <label className={classes.Radio}>\n          <input\n            type=\"radio\"\n            name=\"units\"\n            checked={unit === \"metric\"}\n            value=\"metric\"\n            onChange={(e) => setUnit(e.target.value)}\n          />\n          Celsius\n        </label>\n\n        {/* Button calls getForecast function on click */}\n\n        <button className={classes.Button} type=\"submit\">\n          Get forecast\n        </button>\n      </form>\n\n      {/* Access the data from responseObj, error and loading that are inside the props objects */}\n\n      <Conditions\n        responseObj={responseObj}\n        error={error} // new\n        loading={loading} // new\n      />\n    </div>\n  );\n};\nexport default Forecast;\n","import React from \"react\";\nimport { sky, circle, cloud1, cloud2, cloud3 } from \"./Logo.module.css\";\n\nconst Logo = () => (\n  <div className={sky}>\n    <div className={circle} />\n    <div className={cloud1} />\n    <div className={cloud2} />\n    <div className={cloud3} />\n  </div>\n);\n\nexport default Logo;\n","// Layout container //\n\nimport React from \"react\";\nimport \"./App.css\";\nimport Forecast from \"./components/Forecast/Forecast\";\nimport Logo from \"./components/Logo/Logo\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <Logo />\n        <h1>React Weather Eye</h1>\n      </header>\n      <main>\n        <Forecast />\n      </main>\n      <footer>Page created by Dan Bloch</footer>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}